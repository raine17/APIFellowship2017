{% extends 'base.html' %}
{% load static %}
{% block customstyle %}
<link href="https://fonts.googleapis.com/css?family=Gudea|Lato" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'css/state_list.css' %}"/>
{% endblock %}
{% block javascript %}
<script>
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>

<script type="text/javascript">
    $(document).ready(function() {
    $("input#autocomplete").autocomplete({
      source: [
           {% for object in cities %}
           { value: "{{ object.name }}, {{ object.state }}", url: '{{ object.get_absolute_url }}' },
           {% endfor %}
      ],
        select: function (event, ui) {
            window.location = ui.item.url;
        }
    });
});
</script>
{% endblock %}

{% block content %}
<body>
<img src="{% static 'img/explore.png' %}" style="width:100%;" border="0" alt="Null">
<br>
<br>
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-9">
    <p id="bso">DESCRIPTION HERE!</p>
  </div>
</div>
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-5">
<h3>Search by city</h3>
        <form class="form-inline">
          <div class="form-group">
            <label class="sr-only" for="exampleInputAmount">Enter city here</label>
            <div class="input-group">
              <input type="text" class="form-control" id="autocomplete" placeholder="Enter your city">
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Â»</button>
          </div>
          <div class="col-md-4"></div>
        </form>
      </div>

        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-5">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th><h3>Or select a state: </h3></th>
                </tr>
              </thead>
              <tbody>
                {% for object in state %}
                <tr> <td><a href="{{ object.get_absolute_url }}">{{ object.name }}</a></td></tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
</body>
{% endblock %}
